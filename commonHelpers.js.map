{"version":3,"file":"commonHelpers.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["//функції для HTTP-запитів\n\nimport iziToast from 'izitoast';\n// Додатковий імпорт стилів\nimport \"izitoast/dist/css/iziToast.min.css\";\n\n// Функція для виконання HTTP-запитів до API Pixabay\nexport async function searchImages(keyword) {\n    const apiKey = '43190537-4b40a622c8cb8590492e33b18'; // Замініть 'YOUR_API_KEY' на ваш ключ API Pixabay\n    const url = `https://pixabay.com/api/?key=${apiKey}&q=${encodeURIComponent(keyword)}&image_type=photo&orientation=horizontal&safesearch=true`;\n\n    try {\n        const response = await fetch(url);\n        if (!response.ok) {\n            throw new Error('Failed to fetch images');\n        }\n        const data = await response.json();\n        if (data.hits.length === 0) {\n            iziToast.error({\n              title: 'Sorry',\n              message:\n                'There are no images matching your search query. Please try again!',\n              position: 'topRight',\n            });\n        }\n        return data.hits; // Повертаємо масив об'єктів зображень\n    } catch (error) {\n        console.error('Error fetching images:', error);\n        throw error; // Пропагуємо помилку наверх для обробки в main.js\n    }\n}\n\n","import SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nimport { Spinner } from 'spin.js';\n\nlet spinner = null; // Змінна для зберігання індикатора завантаження\nlet instance = null; // Змінна для зберігання екземпляру SimpleLightbox\n\n// Функція для створення нового екземпляру SimpleLightbox\nfunction createSimpleLightbox() {\n  instance = new SimpleLightbox('#gallery a', {\n    captionDelay: 250, // зображення підпису за 250 ms\n    captionsData: 'alt', // підпис зображення\n  });\n}\n\n// Функція для створення і показу індикатора завантаження\nfunction showLoader() {\n  spinner = new Spinner().spin();\n  document.getElementById('loader').appendChild(spinner.el);\n}\n\n// Функція для приховування індикатора завантаження\nfunction hideLoader() {\n  if (spinner) {\n    spinner.stop();\n    document.getElementById('loader').innerHTML = ''; // Очищаємо контейнер індикатора завантаження\n  }\n}\n\nexport function displayImages(images) {\n  showLoader(); // Показуємо індикатор завантаження перед відображенням зображень\n\n  const galleryElement = document.getElementById('gallery');\n  galleryElement.innerHTML = ''; // Очищаємо галерею перед відображенням нових зображень\n\n  images.forEach(image => {\n    const imageCard = createImageCard(image);\n    galleryElement.appendChild(imageCard);\n  });\n\n  hideLoader(); // Приховуємо індикатор завантаження після відображення зображень\n\n  // Оновлюємо галерею, тільки якщо були додані нові картки зображень\n  if (!instance) {\n    createSimpleLightbox(); // Якщо екземпляр не існує, створюємо новий\n  } else {\n    instance.refresh(); // Якщо екземпляр вже існує, оновлюємо його\n  }\n}\n\n// Створення картки зображення\nfunction createImageCard(image) {\n  const card = document.createElement('div');\n  card.classList.add('image-card');\n\n  const img = document.createElement('img');\n  img.src = image.webformatURL;\n  img.alt = image.tags;\n\n  const likes = document.createElement('p');\n  likes.textContent = `Likes: ${image.likes}`;\n\n  const views = document.createElement('p');\n  views.textContent = `Views: ${image.views}`;\n\n  const comments = document.createElement('p');\n  comments.textContent = `Comments: ${image.comments}`;\n\n  const downloads = document.createElement('p');\n  downloads.textContent = `Downloads: ${image.downloads}`;\n\n  // Додати посилання на оригінальне зображення\n  const link = document.createElement('a');\n  link.href = image.largeImageURL;\n  link.appendChild(img);\n\n  card.appendChild(link);\n  card.appendChild(likes);\n  card.appendChild(views);\n  card.appendChild(comments);\n  card.appendChild(downloads);\n\n  return card;\n}\n","//вся логіка роботи додатка\n\nimport { searchImages } from './js/pixabay-api.js';\nimport { displayImages } from './js/render-functions.js';\n\n// Отримання елементів DOM\nconst form = document.querySelector('form');\nconst searchInput = document.querySelector('#search-input');\n\n// Обробник події для форми пошуку\nform.addEventListener('submit', async event => {\n  event.preventDefault(); // Заборона стандартної поведінки форми\n\n  const keyword = searchInput.value.trim(); // Отримання ключового слова для пошуку\n\n  // Перевірка на порожній рядок\n  if (keyword === '') {\n    displayErrorMessage('Please enter a search keyword');\n    return;\n  }\n\n  try {\n    // Виконання пошуку зображень за ключовим словом\n    const images = await searchImages(keyword);\n\n    // Відображення отриманих зображень\n    displayImages(images);\n  } catch (error) {\n    console.error('Error searching images:', error);\n  }\n});"],"names":["searchImages","keyword","url","response","data","iziToast","error","spinner","instance","createSimpleLightbox","SimpleLightbox","showLoader","Spinner","hideLoader","displayImages","images","galleryElement","image","imageCard","createImageCard","card","img","likes","views","comments","downloads","link","form","searchInput","event"],"mappings":"owBAOO,eAAeA,EAAaC,EAAS,CAExC,MAAMC,EAAM,qEAA4C,mBAAmBD,CAAO,CAAC,2DAEnF,GAAI,CACA,MAAME,EAAW,MAAM,MAAMD,CAAG,EAChC,GAAI,CAACC,EAAS,GACV,MAAM,IAAI,MAAM,wBAAwB,EAE5C,MAAMC,EAAO,MAAMD,EAAS,OAC5B,OAAIC,EAAK,KAAK,SAAW,GACrBC,EAAS,MAAM,CACb,MAAO,QACP,QACE,oEACF,SAAU,UACxB,CAAa,EAEED,EAAK,IACf,OAAQE,EAAO,CACZ,cAAQ,MAAM,yBAA0BA,CAAK,EACvCA,CACT,CACL,CCzBA,IAAIC,EAAU,KACVC,EAAW,KAGf,SAASC,GAAuB,CAC9BD,EAAW,IAAIE,EAAe,aAAc,CAC1C,aAAc,IACd,aAAc,KAClB,CAAG,CACH,CAGA,SAASC,GAAa,CACpBJ,EAAU,IAAIK,IAAU,OACxB,SAAS,eAAe,QAAQ,EAAE,YAAYL,EAAQ,EAAE,CAC1D,CAGA,SAASM,GAAa,CAChBN,IACFA,EAAQ,KAAI,EACZ,SAAS,eAAe,QAAQ,EAAE,UAAY,GAElD,CAEO,SAASO,EAAcC,EAAQ,CACpCJ,IAEA,MAAMK,EAAiB,SAAS,eAAe,SAAS,EACxDA,EAAe,UAAY,GAE3BD,EAAO,QAAQE,GAAS,CACtB,MAAMC,EAAYC,EAAgBF,CAAK,EACvCD,EAAe,YAAYE,CAAS,CACxC,CAAG,EAEDL,IAGKL,EAGHA,EAAS,QAAO,EAFhBC,GAIJ,CAGA,SAASU,EAAgBF,EAAO,CAC9B,MAAMG,EAAO,SAAS,cAAc,KAAK,EACzCA,EAAK,UAAU,IAAI,YAAY,EAE/B,MAAMC,EAAM,SAAS,cAAc,KAAK,EACxCA,EAAI,IAAMJ,EAAM,aAChBI,EAAI,IAAMJ,EAAM,KAEhB,MAAMK,EAAQ,SAAS,cAAc,GAAG,EACxCA,EAAM,YAAc,UAAUL,EAAM,KAAK,GAEzC,MAAMM,EAAQ,SAAS,cAAc,GAAG,EACxCA,EAAM,YAAc,UAAUN,EAAM,KAAK,GAEzC,MAAMO,EAAW,SAAS,cAAc,GAAG,EAC3CA,EAAS,YAAc,aAAaP,EAAM,QAAQ,GAElD,MAAMQ,EAAY,SAAS,cAAc,GAAG,EAC5CA,EAAU,YAAc,cAAcR,EAAM,SAAS,GAGrD,MAAMS,EAAO,SAAS,cAAc,GAAG,EACvC,OAAAA,EAAK,KAAOT,EAAM,cAClBS,EAAK,YAAYL,CAAG,EAEpBD,EAAK,YAAYM,CAAI,EACrBN,EAAK,YAAYE,CAAK,EACtBF,EAAK,YAAYG,CAAK,EACtBH,EAAK,YAAYI,CAAQ,EACzBJ,EAAK,YAAYK,CAAS,EAEnBL,CACT,CC9EA,MAAMO,EAAO,SAAS,cAAc,MAAM,EACpCC,EAAc,SAAS,cAAc,eAAe,EAG1DD,EAAK,iBAAiB,SAAU,MAAME,GAAS,CAC7CA,EAAM,eAAc,EAEpB,MAAM5B,EAAU2B,EAAY,MAAM,KAAI,EAGtC,GAAI3B,IAAY,GAAI,CAClB,oBAAoB,+BAA+B,EACnD,MACD,CAED,GAAI,CAEF,MAAMc,EAAS,MAAMf,EAAaC,CAAO,EAGzCa,EAAcC,CAAM,CACrB,OAAQT,EAAO,CACd,QAAQ,MAAM,0BAA2BA,CAAK,CAC/C,CACH,CAAC"}